{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '45663713-dfa6ca74103c7ea350b6beef4';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport function fetchImages(query) {\n  const searchParams = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  const url = `${BASE_URL}?${searchParams}`;\n\n  return fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport function renderGalleryItems(data, gallery, lightbox) {\n  if (data.hits.length === 0) {\n    return iziToast.show({\n      message:\n        'Sorry, there are no images matching <br> your search query. Please try again!',\n      messageColor: '#fafafb',\n      messageLineHeight: '1.5px',\n      messageSize: '16px',\n      backgroundColor: '#ef4040',\n      position: 'topRight',\n    });\n  }\n\n  data.hits.forEach(\n    ({\n      webformatURL,\n      largeImageURL,\n      tags,\n      likes,\n      views,\n      comments,\n      downloads,\n    }) => {\n      const element = document.createElement('li');\n      const image = document.createElement('img');\n      const infoList = document.createElement('ul');\n      const link = document.createElement('a');\n\n      element.classList.add('gallery-item');\n      image.classList.add('gallery-image');\n      infoList.classList.add('info-list');\n      link.classList.add('gallery-link');\n\n      image.src = webformatURL;\n      image.width = '360';\n      image.alt = tags;\n      link.href = largeImageURL;\n\n      const infoItems = [\n        { title: 'Likes', value: likes },\n        { title: 'Views', value: views },\n        { title: 'Comments', value: comments },\n        { title: 'Downloads', value: downloads },\n      ];\n      infoItems.forEach(({ title, value }) => {\n        const item = document.createElement('li');\n        const heading = document.createElement('h2');\n        const text = document.createElement('p');\n\n        item.classList.add('info-item');\n        heading.classList.add('info-title');\n        text.classList.add('info-text');\n\n        heading.textContent = `${title}`;\n        text.textContent = `${value}`;\n\n        item.appendChild(heading);\n        item.appendChild(text);\n        infoList.appendChild(item);\n      });\n\n      link.appendChild(image);\n      element.appendChild(link);\n      element.appendChild(infoList);\n      gallery.appendChild(element);\n    }\n  );\n\n  if (!lightbox) {\n    lightbox = new SimpleLightbox('#gallery a', {\n      captionsData: 'alt',\n      captionDelay: 250,\n      close: true,\n      loop: true,\n    });\n  } else {\n    lightbox.refresh();\n  }\n}\n","import { fetchImages } from './js/pixabay-api.js';\nimport { renderGalleryItems } from './js/render-functions.js';\n\nconst searchForm = document.querySelector('#search-form');\nconst searchInput = document.querySelector('#search-query');\nconst gallery = document.querySelector('#gallery');\nconst loader = document.querySelector('.loader');\n\nlet lightbox;\n\nsearchForm.addEventListener('submit', event => {\n  event.preventDefault();\n\n  gallery.innerHTML = '';\n  loader.style.display = 'block';\n\n  const query = searchInput.value.trim();\n\n  fetchImages(query)\n    .then(data => {\n      renderGalleryItems(data, gallery, lightbox);\n    })\n    .catch(error => {\n      console.log(error);\n    })\n    .finally(() => {\n      loader.style.display = 'none';\n    });\n});\n"],"names":["API_KEY","BASE_URL","fetchImages","query","searchParams","url","response","renderGalleryItems","data","gallery","lightbox","iziToast","webformatURL","largeImageURL","tags","likes","views","comments","downloads","element","image","infoList","link","title","value","item","heading","text","SimpleLightbox","searchForm","searchInput","loader","event","error"],"mappings":"wvBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,SAASC,EAAYC,EAAO,CACjC,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAEKE,EAAM,GAAGJ,CAAQ,IAAIG,CAAY,GAEvC,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAY,CACjC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CCfO,SAASC,EAAmBC,EAAMC,EAASC,EAAU,CAC1D,GAAIF,EAAK,KAAK,SAAW,EACvB,OAAOG,EAAS,KAAK,CACnB,QACE,gFACF,aAAc,UACd,kBAAmB,QACnB,YAAa,OACb,gBAAiB,UACjB,SAAU,UAChB,CAAK,EAGHH,EAAK,KAAK,QACR,CAAC,CACC,aAAAI,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACN,IAAU,CACJ,MAAMC,EAAU,SAAS,cAAc,IAAI,EACrCC,EAAQ,SAAS,cAAc,KAAK,EACpCC,EAAW,SAAS,cAAc,IAAI,EACtCC,EAAO,SAAS,cAAc,GAAG,EAEvCH,EAAQ,UAAU,IAAI,cAAc,EACpCC,EAAM,UAAU,IAAI,eAAe,EACnCC,EAAS,UAAU,IAAI,WAAW,EAClCC,EAAK,UAAU,IAAI,cAAc,EAEjCF,EAAM,IAAMR,EACZQ,EAAM,MAAQ,MACdA,EAAM,IAAMN,EACZQ,EAAK,KAAOT,EAEM,CAChB,CAAE,MAAO,QAAS,MAAOE,CAAO,EAChC,CAAE,MAAO,QAAS,MAAOC,CAAO,EAChC,CAAE,MAAO,WAAY,MAAOC,CAAU,EACtC,CAAE,MAAO,YAAa,MAAOC,CAAW,CAChD,EACgB,QAAQ,CAAC,CAAE,MAAAK,EAAO,MAAAC,CAAK,IAAO,CACtC,MAAMC,EAAO,SAAS,cAAc,IAAI,EAClCC,EAAU,SAAS,cAAc,IAAI,EACrCC,EAAO,SAAS,cAAc,GAAG,EAEvCF,EAAK,UAAU,IAAI,WAAW,EAC9BC,EAAQ,UAAU,IAAI,YAAY,EAClCC,EAAK,UAAU,IAAI,WAAW,EAE9BD,EAAQ,YAAc,GAAGH,CAAK,GAC9BI,EAAK,YAAc,GAAGH,CAAK,GAE3BC,EAAK,YAAYC,CAAO,EACxBD,EAAK,YAAYE,CAAI,EACrBN,EAAS,YAAYI,CAAI,CACjC,CAAO,EAEDH,EAAK,YAAYF,CAAK,EACtBD,EAAQ,YAAYG,CAAI,EACxBH,EAAQ,YAAYE,CAAQ,EAC5BZ,EAAQ,YAAYU,CAAO,CAC5B,CACL,EAEOT,EAQHA,EAAS,QAAO,EAPhBA,EAAW,IAAIkB,EAAe,aAAc,CAC1C,aAAc,MACd,aAAc,IACd,MAAO,GACP,KAAM,EACZ,CAAK,CAIL,CChFA,MAAMC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAc,SAAS,cAAc,eAAe,EACpDrB,EAAU,SAAS,cAAc,UAAU,EAC3CsB,EAAS,SAAS,cAAc,SAAS,EAE/C,IAAIrB,EAEJmB,EAAW,iBAAiB,SAAUG,GAAS,CAC7CA,EAAM,eAAc,EAEpBvB,EAAQ,UAAY,GACpBsB,EAAO,MAAM,QAAU,QAEvB,MAAM5B,EAAQ2B,EAAY,MAAM,KAAI,EAEpC5B,EAAYC,CAAK,EACd,KAAKK,GAAQ,CACZD,EAAmBC,EAAMC,EAASC,CAAQ,CAChD,CAAK,EACA,MAAMuB,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,EACA,QAAQ,IAAM,CACbF,EAAO,MAAM,QAAU,MAC7B,CAAK,CACL,CAAC"}